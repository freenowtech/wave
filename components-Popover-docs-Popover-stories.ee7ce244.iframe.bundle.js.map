{"version":3,"file":"components-Popover-docs-Popover-stories.ee7ce244.iframe.bundle.js","mappings":";;AAqBA;AAGA;;;ACAA;AAGA;;;;;AAKA;AACA;AACA;;;;;AAKA;AACA;;AAIA;;AAIA;;;;;;AAMA;;;;;;AAQA;;;AC1BA;;;;AAIA;AACA;;;;;;;;;;;;;AAaA;;;;ACkBA;AAGA;;;AClBA;AACA;;AAEA;;;ACjDA;;;AAGA;AACA;AACA;;;;;AAKA;;;;;AAKA;;;;AAIA;;ACcA;AAoBA;AACA;;;;AAIA","sources":["webpack://@freenow/wave/./src/components/Popover/PopoverContent.tsx","webpack://@freenow/wave/./src/components/Popover/Popover.tsx","webpack://@freenow/wave/./src/components/Button/BaseButton.tsx","webpack://@freenow/wave/./src/components/Button/Button.tsx","webpack://@freenow/wave/./src/components/Card/Card.tsx","webpack://@freenow/wave/./src/components/Link/Link.tsx","webpack://@freenow/wave/./src/components/Text/Text.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { Spaces } from '../../essentials';\nimport { Card } from '../Card/Card';\n\nconst DEFAULT_PADDING = Spaces[2];\n\ninterface PopoverContentProps {\n    /**\n     * Popover content (can be any valid React Element or component)\n     */\n    children: React.ReactNode;\n    /**\n     * Popover content padding\n     */\n    padding: string | number;\n}\n\nconst PopoverContentContainer = styled(Card)<{ padding: string | number }>`\n    display: block;\n    padding: ${props => props.padding};\n`;\n\nexport const PopoverContent = ({ padding = DEFAULT_PADDING, children }: PopoverContentProps): React.ReactElement => (\n    <>\n        <PopoverContentContainer padding={padding} level={200}>\n            {children}\n        </PopoverContentContainer>\n    </>\n);\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { Placement } from '@popperjs/core/lib/enums';\nimport { usePopper } from 'react-popper';\n\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { getSemanticValue } from '../../utils/cssVariables';\nimport { Spaces } from '../../essentials';\nimport { ChevronDownIcon, ChevronUpIcon } from '../../icons';\nimport { useClickOutside } from '../../utils/hooks/useClickOutside';\n\nimport { Text } from '../Text/Text';\n\nimport { PopoverContent } from './PopoverContent';\n\ninterface PopoverRefObjectProps {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ref: any;\n}\n\nconst PopoverTrigger = styled.div.attrs({ theme })<PopoverRefObjectProps>`\n    display: inline-block;\n    width: fit-content;\n    border-radius: ${get('radii.2')};\n`;\n\nconst DefaultPopoverWrapper = styled.div.attrs({ theme })`\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid ${getSemanticValue('border-neutral-default')};\n    padding: 0.8125rem ${Spaces[2]};\n    border-radius: ${get('radii.2')};\n    fill: currentColor;\n\n    &:hover {\n        cursor: pointer;\n        color: ${getSemanticValue('foreground-on-background-neutral')};\n        background-color: ${getSemanticValue('background-element-neutral-emphasized')};\n    }\n`;\n\nconst PopoverContentContainer = styled.div<PopoverRefObjectProps>`\n    display: inline-block;\n`;\n\nconst PopoverContentWrapper = styled.div`\n    display: inline-block;\n    box-sizing: border-box;\n    width: auto;\n    height: auto;\n    z-index: 1000;\n    box-shadow: ${get('shadows.small')};\n    max-height: none;\n\n    &:focus {\n        outline: 0;\n    }\n`;\n\nconst KEY_CODE_MAP = {\n    ENTER: 13,\n    SPACE: 32,\n    ESC: 27\n};\n\ninterface PopoverProps {\n    /**\n     * Popover Trigger (Only use Text, Link, Button or Icon component from @wave as a trigger)\n     */\n    children: React.ReactNode;\n    /**\n     * Popover content (can be any valid React Element or component containing React Elements)\n     */\n    content: React.ReactNode;\n    /**\n     * Popover content padding\n     */\n    padding?: string | number;\n    /**\n     * Optional: Specify the Popover content placement (it changes automatically if the Popover content cannot fit inside the viewport with the selected placement)\n     */\n    placement?: Placement;\n    /**\n     * Optional: Specify the Popover content offset (margin between Popover trigger and content)\n     */\n    offset?: number;\n    /**\n     * Optional: Render popover content open by default\n     */\n    isOpen?: boolean;\n    /**\n     * Optional: Define a callback for when Popover content is opened\n     */\n    onOpen?: () => void;\n    /**\n     * Optional: Define a callback for when Popover content is closed\n     */\n    onClose?: () => void;\n}\n\nconst Popover: React.FC<PopoverProps> = ({\n    children,\n    content = '',\n    padding = undefined,\n    placement = 'bottom-start',\n    offset = 5,\n    isOpen = false,\n    onOpen,\n    onClose\n}: PopoverProps) => {\n    const [triggerReference, setTriggerReference] = React.useState(undefined);\n    const [contentReference, setContentReference] = React.useState(undefined);\n    const popoverTriggerRef = React.useRef<HTMLDivElement>(null);\n    const popoverContentRef = React.useRef<HTMLDivElement>(null);\n\n    const [openByDefault, setOpenByDefault] = React.useState(isOpen);\n\n    const [render, setRender] = React.useState(openByDefault);\n\n    const { styles, attributes } = usePopper(triggerReference, contentReference, {\n        placement,\n        strategy: 'fixed',\n        modifiers: [\n            {\n                name: 'offset',\n                enabled: !!offset,\n                options: {\n                    offset: [0, offset]\n                }\n            },\n            {\n                name: 'flip',\n                enabled: true\n            }\n        ]\n    });\n\n    const resolveCallback = React.useCallback(\n        state => {\n            if (onClose && !state) onClose();\n            if (onOpen && state) onOpen();\n        },\n        [onClose, onOpen]\n    );\n\n    const hidePopover: () => void = React.useCallback(() => {\n        if (openByDefault) {\n            setOpenByDefault(false);\n        } else {\n            setRender(false);\n        }\n        resolveCallback(false);\n    }, [openByDefault, resolveCallback]);\n\n    const handleClose = React.useCallback(() => {\n        if (render) {\n            hidePopover();\n        }\n    }, [render, hidePopover]);\n\n    const handleClick: () => void = React.useCallback(() => {\n        if (render) {\n            hidePopover();\n        } else {\n            setRender(true);\n            resolveCallback(true);\n        }\n    }, [resolveCallback, setRender, render, hidePopover]);\n\n    const handleOut = React.useCallback(\n        ev => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            if (popoverTriggerRef && popoverTriggerRef.current && !popoverTriggerRef.current.contains(ev.target)) {\n                if (!openByDefault) {\n                    handleClose();\n                } else {\n                    setOpenByDefault(false);\n                    resolveCallback(false);\n                }\n            }\n        },\n        [openByDefault, popoverTriggerRef, handleClose, resolveCallback]\n    );\n\n    const handleKeyControl = (ev: React.KeyboardEvent<HTMLElement>) => {\n        // eslint-disable-next-line default-case\n        switch (ev.keyCode) {\n            case KEY_CODE_MAP.ESC:\n                handleClose();\n                break;\n            case KEY_CODE_MAP.ENTER:\n                handleClick();\n                break;\n            case KEY_CODE_MAP.SPACE:\n                handleClick();\n        }\n    };\n\n    React.useEffect(() => {\n        setRender(openByDefault);\n    }, [openByDefault, setRender]);\n\n    useClickOutside(popoverContentRef, ev => handleOut(ev));\n\n    return (\n        <>\n            <PopoverTrigger\n                ref={setTriggerReference}\n                onClick={handleClick}\n                tabIndex={0}\n                aria-describedby=\"popover-content\"\n                aria-haspopup\n                onKeyDown={ev => handleKeyControl(ev)}\n            >\n                {typeof children === 'string' ? (\n                    <DefaultPopoverWrapper\n                        ref={popoverTriggerRef}\n                        style={{\n                            color: render ? getSemanticValue('foreground-on-background-neutral') : undefined,\n                            background: render ? getSemanticValue('background-element-neutral-emphasized') : undefined\n                        }}\n                    >\n                        <Text fontWeight=\"semibold\" style={{ color: 'inherit' }}>\n                            {children}\n                        </Text>\n                        {!render ? (\n                            <ChevronDownIcon\n                                size={20}\n                                color=\"inherit\"\n                                style={{ marginLeft: Spaces[1], fill: 'currentColor' }}\n                            />\n                        ) : (\n                            <ChevronUpIcon\n                                size={20}\n                                color=\"inherit\"\n                                style={{ marginLeft: Spaces[1], fill: 'currentColor' }}\n                            />\n                        )}\n                    </DefaultPopoverWrapper>\n                ) : (\n                    <div ref={popoverTriggerRef}>{children}</div>\n                )}\n            </PopoverTrigger>\n\n            {render && (\n                <PopoverContentContainer\n                    id=\"popover-content\"\n                    ref={setContentReference}\n                    style={{ ...styles.popper, zIndex: 999 }}\n                    {...attributes.popper}\n                >\n                    <PopoverContentWrapper ref={popoverContentRef}>\n                        <PopoverContent padding={padding}>{content}</PopoverContent>\n                    </PopoverContentWrapper>\n                </PopoverContentContainer>\n            )}\n        </>\n    );\n};\n\nexport { Popover, PopoverProps };\n","import { ComponentPropsWithoutRef } from 'react';\nimport styled from 'styled-components';\nimport { compose, margin, MarginProps, ResponsiveValue, variant, width, WidthProps } from 'styled-system';\n\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\n\ninterface BaseButtonProps extends ComponentPropsWithoutRef<'button'>, MarginProps, WidthProps {\n    /**\n     * Adjusts the size of the button\n     */\n    size?: ResponsiveValue<'small' | 'medium'>;\n}\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            fontSize: get('fontSizes.1'),\n            height: '2rem',\n            minWidth: '5rem',\n            padding: '0 0.75rem'\n        },\n        medium: {\n            fontSize: get('fontSizes.2'),\n            height: '3rem',\n            minWidth: '6.25rem',\n            padding: '0 1rem'\n        }\n    }\n});\n\n// \"svg path\" fill set to \"inherit\" to being able to transition using button variants\nconst BaseButton = styled.button.attrs({ theme })<BaseButtonProps>`\n    align-items: center;\n    background: transparent;\n    border-radius: ${get('radii.2')};\n    border: 0.0625rem solid transparent;\n    cursor: pointer;\n    display: inline-flex;\n    font-family: ${get('fonts.normal')};\n    font-weight: ${get('fontWeights.semibold')};\n    justify-content: center;\n    text-align: center;\n    text-decoration: none;\n\n    &:disabled {\n        cursor: not-allowed;\n    }\n\n    svg path {\n        fill: inherit;\n    }\n\n    ${compose(margin, sizeVariant, width)}\n`;\n\nexport { BaseButton, BaseButtonProps };\n","import styled from 'styled-components';\nimport { ButtonStyleProps, ResponsiveValue, variant } from 'styled-system';\nimport { theme } from '../../essentials/theme';\n\nimport { getSemanticValue } from '../../utils/cssVariables';\nimport { BaseButton, BaseButtonProps } from './BaseButton';\nimport { ComponentSemanticTokens } from '../../essentials/Colors/types';\n\ntype Variant = 'primary' | 'secondary' | 'danger';\n\ninterface ButtonProps extends BaseButtonProps, ButtonStyleProps {\n    /**\n     * Define style of the button component, defaults to primary\n     */\n    variant?: ResponsiveValue<Variant>;\n}\n\nconst variantStyles = variant<ComponentSemanticTokens, Variant>({\n    variants: {\n        primary: {\n            color: getSemanticValue('foreground-on-background-primary'),\n            fill: getSemanticValue('foreground-on-background-primary'),\n            background: getSemanticValue('background-element-primary-default'),\n\n            '&:hover': {\n                color: getSemanticValue('foreground-on-background-accent'),\n                background: getSemanticValue('background-element-primary-emphasized')\n            },\n\n            '&:disabled': {\n                color: getSemanticValue('foreground-on-background-disabled'),\n                background: getSemanticValue('background-element-disabled-default')\n            }\n        },\n        secondary: {\n            color: getSemanticValue('foreground-primary'),\n            fill: getSemanticValue('foreground-primary'),\n            background: getSemanticValue('background-page-default'),\n            borderColor: getSemanticValue('border-neutral-default'),\n\n            '&:hover': {\n                color: getSemanticValue('foreground-on-background-neutral'),\n                background: getSemanticValue('background-element-neutral-emphasized')\n            },\n\n            '&:disabled': {\n                color: getSemanticValue('foreground-disabled'),\n                fill: getSemanticValue('foreground-disabled'),\n                background: getSemanticValue('transparent'),\n                borderColor: getSemanticValue('border-disabled')\n            }\n        },\n        danger: {\n            color: getSemanticValue('foreground-on-background-danger'),\n            fill: getSemanticValue('foreground-on-background-danger'),\n            background: getSemanticValue('background-element-danger-default'),\n\n            '&:hover': {\n                background: getSemanticValue('background-element-danger-emphasized')\n            },\n\n            '&:disabled': {\n                background: getSemanticValue('background-element-disabled-default'),\n                borderColor: getSemanticValue('border-disabled')\n            }\n        }\n    }\n});\n\nconst Button = styled(BaseButton).attrs({ theme })<ButtonProps>`\n    transition: background ease 200ms, border-color ease 200ms, color ease 200ms, fill ease 200ms;\n\n    ${variantStyles};\n`;\n\nButton.defaultProps = {\n    size: 'medium',\n    variant: 'primary'\n};\n\nexport { Button, ButtonProps };\n","import styled, { StyledComponent } from 'styled-components';\nimport {\n    borderRadius,\n    BorderRadiusProps,\n    compose,\n    height,\n    HeightProps,\n    padding,\n    PaddingProps,\n    ResponsiveValue,\n    space,\n    SpaceProps,\n    variant,\n    width,\n    WidthProps\n} from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { getSemanticValue } from '../../utils/cssVariables';\n\ntype CardProps = BorderRadiusProps &\n    HeightProps &\n    SpaceProps &\n    WidthProps &\n    PaddingProps & {\n        /**\n         * Set the visual depth of the card by adding a shadow (available values: 0, 100, 200, 300)\n         * @default 0\n         */\n        level?: ResponsiveValue<0 | 100 | 200 | 300>;\n    };\n\nconst levelVariant = variant({\n    prop: 'level',\n    variants: {\n        0: {\n            backgroundColor: getSemanticValue('background-page-default'),\n            boxShadow: 'none'\n        },\n        100: {\n            backgroundColor: getSemanticValue('background-page-elevation-1'),\n            boxShadow: theme.shadows.small\n        },\n        200: {\n            backgroundColor: getSemanticValue('background-page-elevation-2'),\n            boxShadow: theme.shadows.medium\n        },\n        300: {\n            backgroundColor: getSemanticValue('background-page-elevation-3'),\n            boxShadow: theme.shadows.large\n        }\n    }\n});\n\nconst Card: StyledComponent<'div', typeof theme, CardProps, 'theme'> = styled.div.attrs({ theme })`\n    overflow: auto;\n    box-sizing: border-box;\n    border-radius: ${get('radii.1')};\n    padding: ${get('space.5')};\n\n    ${compose(levelVariant, borderRadius, height, space, width, padding)}\n`;\n\nexport { Card, CardProps };\n","import { ComponentPropsWithoutRef } from 'react';\nimport styled from 'styled-components';\nimport { compose, fontSize, FontSizeProps, margin, MarginProps, textAlign, TextAlignProps } from 'styled-system';\nimport { getSemanticValue } from '../../utils/cssVariables';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\n\ninterface LinkProps extends ComponentPropsWithoutRef<'a'>, MarginProps, FontSizeProps, TextAlignProps {}\n\nconst Link = styled.a.attrs({ theme })<LinkProps>`\n    display: inline-block;\n    color: ${getSemanticValue('foreground-accent-default')};\n    cursor: pointer;\n    line-height: 1.4;\n    font-family: ${get('fonts.normal')};\n    font-size: ${get('fontSizes.2')};\n    font-weight: ${get('fontWeights.semibold')};\n    text-decoration: none;\n\n    &:link,\n    &:visited {\n        color: ${getSemanticValue('foreground-accent-default')};\n    }\n\n    &:hover,\n    &:active {\n        color: ${getSemanticValue('foreground-accent-emphasized')};\n        text-decoration: underline;\n    }\n\n    ${compose(margin, fontSize, textAlign)}\n`;\n\nexport { Link, LinkProps };\n","import { ComponentPropsWithoutRef } from 'react';\nimport styled from 'styled-components';\nimport {\n    compose,\n    fontFamily,\n    FontFamilyProps,\n    fontSize,\n    FontSizeProps,\n    fontWeight,\n    margin,\n    MarginProps,\n    ResponsiveValue,\n    textAlign,\n    TextAlignProps\n} from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { getSemanticValue } from '../../utils/cssVariables';\n\ninterface TextProps\n    extends ComponentPropsWithoutRef<'span'>,\n        MarginProps,\n        FontSizeProps,\n        FontFamilyProps,\n        TextAlignProps {\n    /**\n     * The font-weight property specifies the weight (or boldness) of the font.\n     * @default normal\n     */\n    fontWeight?: ResponsiveValue<'normal' | 'semibold' | 'bold'>;\n    /**\n     * Enforce primary color\n     */\n    primary?: boolean;\n    /**\n     * Adjust color to indicate secondary information\n     */\n    secondary?: boolean;\n    /**\n     * Adjust color to display a disabled text element\n     */\n    disabled?: boolean;\n}\n\nfunction determineTextColor(props: TextProps) {\n    const { primary, secondary, disabled } = props;\n\n    if (disabled) {\n        return getSemanticValue('foreground-disabled');\n    }\n\n    if (secondary) {\n        return getSemanticValue('foreground-neutral-emphasized');\n    }\n\n    if (primary) {\n        return getSemanticValue('foreground-primary');\n    }\n\n    return 'inherit';\n}\n\nconst Text = styled.span.attrs({ theme })<TextProps>`\n    color: ${determineTextColor};\n    font-size: ${get('fontSizes.2')};\n    font-family: ${get('fonts.normal')};\n    line-height: 1.4;\n    margin: 0;\n\n    ${compose(margin, fontSize, fontWeight, fontFamily, textAlign)}\n`;\n\nexport { Text, TextProps };\n"],"names":[],"sourceRoot":""}