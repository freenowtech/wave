import { Canvas, Story, Meta, ArgsTable, IconGallery, IconItem } from '@storybook/addon-docs';

import { Colors, Headline } from '../..';
import * as FlagIcons from '../flags';
import { Flag } from '../Flag';
import { LargeFlag } from './LargeFlag';
import { SearchableIconGrid } from './SearchableIconGrid';
import { GuidelineBlock, GuidelineImage, GuidelineList, GuidelineContent } from './GuidelineBlock';
import SpecsSvg from './images/specs-detail.svg';
import GapSvg from './images/gap-detail.svg';
import GapCrossedIconSvg from './images/gap-not-used.svg';
import RadiusSvg from './images/radius-detail.svg';
import RadiusCrossedIconSvg from './images/radius-not-used.svg';
import ColorSvg from './images/color-detail.svg';
import BorderSvg from './images/border-detail.svg';
import * as Icons from '..';
import { Icon as IconExample } from './Icon';

<Meta title="Essentials/Icons" />

export const IconTemplate = args => <IconExample {...args} />;
export const FlagTemplate = args => <LargeFlag {...args} />;

# Icons

## Usage

For each icon the library exposes a specific React component, which has the same name as the icon. They will render the
connected SVG and allow you to change the size and (with some exceptions) color to suit your needs.

```jsx
<AlertIcon />
```

To allow using all icons, they are imported with `import * as Icons from`, so you need to prefix every icon with `Icon.`
so it can be rendered in the example area. This isn't necessary in your project, as you can import the icons explicitly.

```jsx
<Icons.AlertIcon />
```

## Properties

<ArgsTable of={Icons.AlertIcon} />

## Examples

<Canvas>
    <Story
        name="Icons"
        args={{
            name: 'AlertIcon',
            color: Colors.ATTENTION_YELLOW_900,
            size: 40
        }}
        argTypes={{
            name: {
                description: 'Name of the icon\n\n**Example Only!**',
                control: 'select',
                options: Object.keys(Icons).filter(key => !['Flag', 'IconProps'].includes(key))
            },
            color: {
                control: 'color'
            },
            size: {
                control: 'select',
                options: ['small', 'medium', 'large', 40]
            }
        }}
    >
        {IconTemplate.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Icons" />

## Available Icons

<SearchableIconGrid />

## Flags

The icon can be accessed by using the `<Icons.Flag />` component and the provided country code with the property `code`.

<Canvas>
    <Story
        name="Flags"
        args={{
            code: 'US'
        }}
        argTypes={{
            code: {
                description: 'Two letters ISO country code.',
                control: 'select',
                options: Object.entries(FlagIcons).map(it => it[0])
            }
        }}
    >
        {FlagTemplate.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Flags" />

### Country Flags

This library provides flags for almost every country of the world, identified by their two-character
([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1)) country code.

<IconGallery>
    <IconItem name='code="DE"'>
        <Flag code="DE" />
    </IconItem>
    <IconItem name='code="AT"'>
        <Flag code="AT" />
    </IconItem>
    <IconItem name='code="NL"'>
        <Flag code="NL" />
    </IconItem>
    <IconItem name='code="BE"'>
        <Flag code="BE" />
    </IconItem>
    <IconItem name='code="ES"'>
        <Flag code="ES" />
    </IconItem>
    <IconItem name='code="PE"'>
        <Flag code="PE" />
    </IconItem>
    <IconItem name='code="IT"'>
        <Flag code="IT" />
    </IconItem>
    <IconItem name='code="SE"'>
        <Flag code="SE" />
    </IconItem>
</IconGallery>

### Special Flags

There are a few additional, special flags included in this library, that do not represent a single country. You can
find them below.

<IconGallery>
    <IconItem name='code="EU"'>
        <Flag code="EU" />
    </IconItem>
    <IconItem name='code="WW"'>
        <Flag code="WW" />
    </IconItem>
    <IconItem name='code="CAF"'>
        <Flag code="CAF" />
    </IconItem>
    <IconItem name='code="CAS"'>
        <Flag code="CAS" />
    </IconItem>
    <IconItem name='code="CEU"'>
        <Flag code="CEU" />
    </IconItem>
    <IconItem name='code="CNA"'>
        <Flag code="CNA" />
    </IconItem>
    <IconItem name='code="CSA"'>
        <Flag code="CSA" />
    </IconItem>
    <IconItem name='code="COC"'>
        <Flag code="COC" />
    </IconItem>
</IconGallery>

## Design Documentation

### Specs

<GuidelineBlock>
    <GuidelineImage>
        <img src={SpecsSvg} />
    </GuidelineImage>
    <GuidelineContent>
        <Headline as="h5" mb={2}>
            Icon sizes
        </Headline>
        <GuidelineList>
            <Icons.CheckCircleOutlineIcon style={{ placeSelf: 'center' }} />
            Default (24px)
            <Icons.BoltCircleIcon size="large" style={{ placeSelf: 'center' }} />
            Service Types (28px)
            <Icons.InfoCircleOutlineIcon size="small" style={{ placeSelf: 'center' }} />
            Inline (12px)
        </GuidelineList>
    </GuidelineContent>
</GuidelineBlock>

The content of an icon should remain inside of the inner safe zone and should only extend into the padding between
the save and trim area if additional visual weight is needed. Do not place any part of the icon outside of the trim area.

### Gap

<GuidelineBlock>
    <GuidelineImage>
        <img src={GapSvg} />
    </GuidelineImage>
    <GuidelineContent>
        <GuidelineList>
            <Icons.CalculatorIcon />
            Used as unique brand style
            <img src={GapCrossedIconSvg} />
            Not used when meaning of icon breaks
            <Icons.TrainOutlineIcon />
            Not used in multimobility icons
        </GuidelineList>
    </GuidelineContent>
</GuidelineBlock>

Most of the icons contain an open edge which is part of our unique brand style.
The 2x width gap is only used in icons, where it is not breaking the meaning of the icon.
The multimodality icons, which are used in the tab bar are not including the gap.

### Corner Radius

<GuidelineBlock>
    <GuidelineImage>
        <img src={RadiusSvg} />
    </GuidelineImage>
    <GuidelineContent>
        <GuidelineList>
            <Icons.SpeechbubblesSingleIcon />
            Combination of 2px and 0px corder radius for solidity
            <Icons.ClockIcon />
            Replacing a circle shape with 2px corner radius used on four corners
            <img src={RadiusCrossedIconSvg} />
            Donâ€™t add corner radius of 2px to every circle if it breaks the meaning of the icon
        </GuidelineList>
    </GuidelineContent>
</GuidelineBlock>

The border radius of 2px is used in every icon where it makes sense.
The corner radius is based on our UI components e.g. buttons and annotations.
Often it is a combination of 2px and 0px border radius to create a round and friendly but also stable icon.

### Color

<GuidelineBlock>
    <GuidelineImage>
        <img src={ColorSvg} />
    </GuidelineImage>
    <GuidelineContent>
        <GuidelineList>
            <Icons.BatteryChargingIcon />
            Colors for fuel/battery icons to indicate remaining percent
            <Icons.PayPalIcon />
            External icons such e.g. the Paypal icon uses their own brand colors
            <Icons.ScooterSolidIcon color={Colors.ACTION_BLUE_900} />
            Active/selected tab bar icons are colored in Action Blue 900
        </GuidelineList>
    </GuidelineContent>
</GuidelineBlock>

The default color for our icons is Authentic Blue 900.

### Outline

<img src={BorderSvg} />
