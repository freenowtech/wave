import { useState, ChangeEvent } from 'react';
import { Canvas, Story, ArgsTable, Meta } from '@storybook/addon-docs';
import { StyledSystemLinks } from '../../../docs/StyledSystemLinks';
import { Pagination } from '../Pagination';
import { NormalPagination, SmallPagination, PaginationWithPageSize } from './PaginationProvider';

<Meta
    title="Components/Pagination"
    component={Pagination}
    argTypes={{
        size: {
            options: ['normal', 'small'],
            defaultValue: 'normal',
            control: 'radio'
        }
    }}
/>

export const Template = args => <Pagination {...args} />;

# Pagination

-   Use pagination to split long datasets like tables and lists
-   As a rule of thumb set pagination after **10, 15 or 20 items**
-   Use small navigation on mobile and for small datasets

<Canvas>
    <NormalPagination />
</Canvas>

<br />

## Properties

<ArgsTable of={Pagination} />

<br />

## API

<br />

#### Full example

```jsx
export default () => {
    const PAGE_SIZE = 20;
    const TOTAL_ITEMS = 200;

    const [currentPage, setCurrentPage] = useState(1);

    const lastPage = Math.ceil(TOTAL_ITEMS / PAGE_SIZE);

    return (
        <Pagination
            value={currentPage}
            pageSize={PAGE_SIZE}
            totalItems={TOTAL_ITEMS}
            label={
                <Text weak>
                    Page{' '}
                    <Text as="b" fontWeight="semibold" weak>
                        {currentPage} of {lastPage}
                    </Text>
                </Text>
            }
            onNextPage={() => setCurrentPage(current => current + 1)}
            onPrevPage={() => setCurrentPage(current => current - 1)}
            onSkipForward={() => setCurrentPage(lastPage)}
            onSkipBackward={() => setCurrentPage(1)}
        />
    );
};
```

## Label

The label should be used to display the current state of the pagination which typically consists of the current page and the total number of pages. This can be as simple as passing a string:

<br />

<NormalPagination />

<br />

```jsx
<Pagination
    value={currentPage}
    pageSize={PAGE_SIZE}
    totalItems={TOTAL_ITEMS}
    label={`Page ${currentPage} of ${Math.ceil(TOTAL_ITEMS / PAGE_SIZE)}`}
/>
```

<br />

## Label passed as a custom component

To display a label like in the examples above you can pass a custom component:

<br />

<NormalPagination />

<br />

```jsx
<Pagination
    value={currentPage}
    pageSize={PAGE_SIZE}
    totalItems={TOTAL_ITEMS}
    label={
        <Text weak>
            Page{' '}
            <Text as="b" fontWeight="semibold" weak>
                {currentPage} of {lastPage}
            </Text>
        </Text>
    }
/>
```

<br />

# Stories

<br />

### Default | Normal size

<Canvas>
    <Story name="Default | Normal size">
        <NormalPagination />
    </Story>
</Canvas>

### Default | Small size

<Canvas>
    <Story name="Default | Small size">
        <SmallPagination />
    </Story>
</Canvas>

### Pagination with multiple page sizes

<Canvas>
    <Story name="Pagination with multiple page sizes">
        <PaginationWithPageSize />
    </Story>
</Canvas>
