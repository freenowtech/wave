{"version":3,"file":"components-Tooltip-docs-Tooltip-stories.ef682a99.iframe.bundle.js","mappings":";AA4CA;AAoBA;AACA;;;;AAIA;;;;;;;;;AC9CA;;AAmEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AAOA;;;;;;;;;;;;AAcA;;;AAGA;;AAoBA","sources":["webpack://@freenow/wave/./src/components/Text/Text.tsx","webpack://@freenow/wave/./src/components/Tooltip/Tooltip.tsx"],"sourcesContent":["import { ComponentPropsWithoutRef } from 'react';\nimport styled from 'styled-components';\nimport {\n    compose,\n    fontFamily,\n    FontFamilyProps,\n    fontSize,\n    FontSizeProps,\n    fontWeight,\n    margin,\n    MarginProps,\n    ResponsiveValue,\n    textAlign,\n    TextAlignProps\n} from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { getSemanticValue } from '../../utils/cssVariables';\n\ninterface TextProps\n    extends ComponentPropsWithoutRef<'span'>,\n        MarginProps,\n        FontSizeProps,\n        FontFamilyProps,\n        TextAlignProps {\n    /**\n     * The font-weight property specifies the weight (or boldness) of the font.\n     * @default normal\n     */\n    fontWeight?: ResponsiveValue<'normal' | 'semibold' | 'bold'>;\n    /**\n     * Enforce primary color\n     */\n    primary?: boolean;\n    /**\n     * Adjust color to indicate secondary information\n     */\n    secondary?: boolean;\n    /**\n     * Adjust color to display a disabled text element\n     */\n    disabled?: boolean;\n}\n\nfunction determineTextColor(props: TextProps) {\n    const { primary, secondary, disabled } = props;\n\n    if (disabled) {\n        return getSemanticValue('foreground-disabled');\n    }\n\n    if (secondary) {\n        return getSemanticValue('foreground-neutral-emphasized');\n    }\n\n    if (primary) {\n        return getSemanticValue('foreground-primary');\n    }\n\n    return 'inherit';\n}\n\nconst Text = styled.span.attrs({ theme })<TextProps>`\n    color: ${determineTextColor};\n    font-size: ${get('fontSizes.2')};\n    font-family: ${get('fonts.normal')};\n    line-height: 1.4;\n    margin: 0;\n\n    ${compose(margin, fontSize, fontWeight, fontFamily, textAlign)}\n`;\n\nexport { Text, TextProps };\n","import * as React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { createPortal } from 'react-dom';\nimport { usePopper } from 'react-popper';\nimport { Placement } from '@popperjs/core';\nimport { variant } from 'styled-system';\nimport { Elevation, MediaQueries } from '../../essentials';\nimport { getSemanticValue } from '../../utils/cssVariables';\nimport { get } from '../../utils/themeGet';\nimport { Text } from '../Text/Text';\nimport { DarkScheme, LightScheme } from '../ColorScheme';\nimport { useClosestColorScheme } from '../../utils/hooks/useClosestColorScheme';\n\nconst fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n\n    to {\n        opacity: 1;\n    }\n`;\n\nconst arrowPlacementStyles = variant({\n    variants: {\n        bottom: {\n            right: 'calc(50% - 0.25rem)'\n        },\n        'bottom-end': {\n            right: '0.3rem'\n        },\n        'top-start': {\n            bottom: '-0.5rem',\n            transform: 'rotate(-180deg)'\n        },\n        top: {\n            bottom: '-0.5rem',\n            transform: 'rotate(-180deg)',\n            right: 'calc(50% - 0.25rem)'\n        },\n        'top-end': {\n            bottom: '-0.5rem',\n            transform: 'rotate(-180deg)',\n            right: '0.3rem'\n        },\n        left: {\n            top: 'calc(50% - 0.25rem)',\n            left: 'auto',\n            right: '-0.5rem',\n            transform: 'rotate(90deg)'\n        },\n        'left-end': {\n            bottom: '0.5rem',\n            left: 'auto',\n            right: '-0.5rem',\n            transform: 'rotate(90deg)'\n        },\n        'left-start': {\n            top: '0.5rem',\n            left: 'auto',\n            right: '-0.5rem',\n            transform: 'rotate(90deg)'\n        },\n        right: {\n            top: 'calc(50% - 0.25rem)',\n            left: '-0.25rem',\n            right: 'auto',\n            transform: 'rotate(-90deg)'\n        },\n        'right-end': {\n            bottom: '0.5rem',\n            left: '-0.25rem',\n            right: 'auto',\n            transform: 'rotate(-90deg)'\n        },\n        'right-start': {\n            top: '0.5rem',\n            left: '-0.25rem',\n            right: 'auto',\n            transform: 'rotate(-90deg)'\n        }\n    }\n});\n\ninterface TooltipBodyProps {\n    variant: string;\n}\n\nconst TooltipBody = styled.div<TooltipBodyProps>`\n    position: relative;\n    z-index: ${Elevation.TOOLTIP};\n    background-color: ${getSemanticValue('background-backdrop')};\n    color: ${getSemanticValue('background-page-default')};\n    padding: 0.25rem 0.5rem;\n    border-radius: ${get('radii.2')};\n    opacity: 0;\n    animation-name: ${fadeAnimation};\n    animation-duration: 100ms;\n    animation-fill-mode: forwards;\n    animation-timing-function: ease-in;\n    animation-delay: 400ms;\n    max-width: 10rem;\n\n    ${MediaQueries.small} {\n        max-width: 18.75rem;\n    }\n\n    &::after {\n        bottom: 100%;\n        content: ' ';\n        height: 0;\n        width: 0;\n        position: absolute;\n        pointer-events: none;\n        border: 0.25rem solid rgba(0, 0, 0, 0);\n        border-bottom-color: ${\n            // background colors are used because this border is used to create the arrow\n            getSemanticValue('background-backdrop')\n        };\n        margin-left: -0.25rem;\n\n        ${arrowPlacementStyles}\n    }\n`;\n\ninterface TooltipProps {\n    /**\n     * The content that will be shown inside the tooltip body\n     */\n    content: React.ReactNode;\n    /**\n     * Set the position of where the tooltip is attached to the target, defaults to \"top\"\n     */\n    placement?: Placement;\n    /**\n     * Force the tooltip to always be visible, regardless of user interaction\n     */\n    alwaysVisible?: boolean;\n}\n\nconst Tooltip: React.FC<React.PropsWithChildren<TooltipProps>> = ({\n    content,\n    children,\n    placement = 'top',\n    alwaysVisible = false\n}) => {\n    const [isVisible, setIsVisible] = React.useState(alwaysVisible);\n    /**\n     * triggerReference and contentReference are used with the Popper library in order to get the tooltip styles and attributes\n     */\n    const [triggerReference, setTriggerReference] = React.useState(undefined);\n    const [contentReference, setContentReference] = React.useState(undefined);\n\n    const { styles, attributes } = usePopper(triggerReference, contentReference, {\n        placement,\n        modifiers: [\n            {\n                name: 'offset',\n                enabled: true,\n                options: {\n                    offset: [0, 5]\n                }\n            }\n        ]\n    });\n\n    const enforcedColorScheme = useClosestColorScheme(triggerReference);\n\n    const PortalWrapper = React.useMemo(() => {\n        if (!enforcedColorScheme) return React.Fragment;\n        return enforcedColorScheme === 'light' ? LightScheme : DarkScheme;\n    }, [enforcedColorScheme]);\n\n    let dynamicContent = content;\n\n    if (typeof content === 'string') {\n        dynamicContent = (\n                <Text as=\"p\" fontSize={0}>\n                    {content}\n                </Text>\n        );\n    }\n\n    const handleVisibilityChange = (nextState: React.SetStateAction<boolean>) => {\n        if (!alwaysVisible) {\n            setIsVisible(nextState);\n        }\n    };\n\n    return (\n        <>\n            {React.cloneElement(children as React.ReactElement, {\n                onMouseOver: () => handleVisibilityChange(true),\n                onMouseOut: () => handleVisibilityChange(false),\n                ref: setTriggerReference\n            })}\n            {content &&\n                isVisible &&\n                createPortal(\n                    <PortalWrapper>\n                        <TooltipBody\n                            ref={setContentReference}\n                            style={{ ...styles.popper }}\n                            variant={attributes.popper?.['data-popper-placement']}\n                            {...attributes.popper}\n                        >\n                            {dynamicContent}\n                        </TooltipBody>\n                    </PortalWrapper>,\n                    document.body\n                )}\n        </>\n    );\n};\n\nexport { Tooltip, TooltipProps };\n"],"names":[],"sourceRoot":""}